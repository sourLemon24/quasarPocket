{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./src/api/instance.js","webpack:///./src/api/index.js","webpack:///./src/store/modules/auth.js","webpack:///./src/store/modules/categories.js","webpack:///./src/store/modules/transactions.js","webpack:///./src/store/modules/widgets.js","webpack:///./src/store/index.js","webpack:///./src/App.vue?78c3","webpack:///src/App.vue","webpack:///./src/App.vue?099c","webpack:///./src/App.vue","webpack:///./src/router/index.js","webpack:///./src/quasar.js","webpack:///./src/main.js"],"names":["webpackJsonpCallback","data","moduleId","chunkId","chunkIds","moreModules","executeModules","i","resolves","length","Object","prototype","hasOwnProperty","call","installedChunks","push","modules","parentJsonpFunction","shift","deferredModules","apply","checkDeferredModules","result","deferredModule","fulfilled","j","depId","splice","__webpack_require__","s","installedModules","jsonpScriptSrc","p","exports","module","l","e","promises","installedChunkData","promise","Promise","resolve","reject","onScriptComplete","script","document","createElement","charset","timeout","nc","setAttribute","src","error","Error","event","onerror","onload","clearTimeout","chunk","errorType","type","realSrc","target","message","name","request","undefined","setTimeout","head","appendChild","all","m","c","d","getter","o","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","oe","err","console","jsonpArray","window","oldJsonpFunction","slice","instance","axios","baseURL","requestValidAccessToken","now","Math","floor","Date","store","getters","isRefreshTokenValid","dispatch","isAccessTokenValid","refreshToken","refresh","state","auth","accessToken","defaults","headers","post","interceptors","use","config","skipAuth","common","log","response","status","$store","signin","resp","signup","getUser","addCategory","getCategories","start_date","end_date","params","getTransactions","limit","offset","getWidgets","addWidget","deleteWidget","delete","addTransaction","deleteTransaction","editTransaction","transactionId","patch","deleteCategory","editCategory","categoryId","username","localStorage","getItem","email","password","accessTokenExpires","refreshTokenExpires","mutations","GET_ERROR","alert","AUTH_SUCSESS","CLEAR_USER_DATA","location","reload","actions","AUTH_REQUEST","commit","AUTH_REG","setItem","logout","authRefresh","api","isLoggedIn","token","categories","GET_CATEGORIES","ADD_CATEGORY","UPDATE_CATEGORIES","index","findIndex","item","id","updateCategories","categoriesListId","map","f","transactions","filter","category","categoryTotal","amount","reduce","sum","current","find","total","then","datePickerTransactions","GET_TRANSACTIONS","results","ADD_TRANSACTION","updateTransactionsByDatePicker","widgets","showModalAddWidget","GET_WIDGETS","ADD_WIDGET","SHOW_ADD_WIDGET_MODAL","Vue","Vuex","Store","GET_USERNAME","getInitialData","_vm","this","_h","$createElement","_c","_self","attrs","staticRenderFns","component","VueRouter","routes","path","meta","requiresAuth","router","base","process","beforeEach","to","from","next","matched","some","record","Quasar","plugins","Vuelidate","productionTip","render","h","App","$mount"],"mappings":"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","file":"js/app.6742bd62.js","sourcesContent":[" \t// install a JSONP callback for chunk loading\n \tfunction webpackJsonpCallback(data) {\n \t\tvar chunkIds = data[0];\n \t\tvar moreModules = data[1];\n \t\tvar executeModules = data[2];\n\n \t\t// add \"moreModules\" to the modules object,\n \t\t// then flag all \"chunkIds\" as loaded and fire callback\n \t\tvar moduleId, chunkId, i = 0, resolves = [];\n \t\tfor(;i < chunkIds.length; i++) {\n \t\t\tchunkId = chunkIds[i];\n \t\t\tif(Object.prototype.hasOwnProperty.call(installedChunks, chunkId) && installedChunks[chunkId]) {\n \t\t\t\tresolves.push(installedChunks[chunkId][0]);\n \t\t\t}\n \t\t\tinstalledChunks[chunkId] = 0;\n \t\t}\n \t\tfor(moduleId in moreModules) {\n \t\t\tif(Object.prototype.hasOwnProperty.call(moreModules, moduleId)) {\n \t\t\t\tmodules[moduleId] = moreModules[moduleId];\n \t\t\t}\n \t\t}\n \t\tif(parentJsonpFunction) parentJsonpFunction(data);\n\n \t\twhile(resolves.length) {\n \t\t\tresolves.shift()();\n \t\t}\n\n \t\t// add entry modules from loaded chunk to deferred list\n \t\tdeferredModules.push.apply(deferredModules, executeModules || []);\n\n \t\t// run deferred modules when all chunks ready\n \t\treturn checkDeferredModules();\n \t};\n \tfunction checkDeferredModules() {\n \t\tvar result;\n \t\tfor(var i = 0; i < deferredModules.length; i++) {\n \t\t\tvar deferredModule = deferredModules[i];\n \t\t\tvar fulfilled = true;\n \t\t\tfor(var j = 1; j < deferredModule.length; j++) {\n \t\t\t\tvar depId = deferredModule[j];\n \t\t\t\tif(installedChunks[depId] !== 0) fulfilled = false;\n \t\t\t}\n \t\t\tif(fulfilled) {\n \t\t\t\tdeferredModules.splice(i--, 1);\n \t\t\t\tresult = __webpack_require__(__webpack_require__.s = deferredModule[0]);\n \t\t\t}\n \t\t}\n\n \t\treturn result;\n \t}\n\n \t// The module cache\n \tvar installedModules = {};\n\n \t// object to store loaded and loading chunks\n \t// undefined = chunk not loaded, null = chunk preloaded/prefetched\n \t// Promise = chunk loading, 0 = chunk loaded\n \tvar installedChunks = {\n \t\t\"app\": 0\n \t};\n\n \tvar deferredModules = [];\n\n \t// script path function\n \tfunction jsonpScriptSrc(chunkId) {\n \t\treturn __webpack_require__.p + \"js/\" + ({\"about\":\"about\"}[chunkId]||chunkId) + \".\" + {\"about\":\"c6550d74\",\"chunk-d8420b28\":\"0b3876ab\",\"chunk-d84361c0\":\"574745df\"}[chunkId] + \".js\"\n \t}\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n \t// This file contains only the entry chunk.\n \t// The chunk loading function for additional chunks\n \t__webpack_require__.e = function requireEnsure(chunkId) {\n \t\tvar promises = [];\n\n\n \t\t// JSONP chunk loading for javascript\n\n \t\tvar installedChunkData = installedChunks[chunkId];\n \t\tif(installedChunkData !== 0) { // 0 means \"already installed\".\n\n \t\t\t// a Promise means \"currently loading\".\n \t\t\tif(installedChunkData) {\n \t\t\t\tpromises.push(installedChunkData[2]);\n \t\t\t} else {\n \t\t\t\t// setup Promise in chunk cache\n \t\t\t\tvar promise = new Promise(function(resolve, reject) {\n \t\t\t\t\tinstalledChunkData = installedChunks[chunkId] = [resolve, reject];\n \t\t\t\t});\n \t\t\t\tpromises.push(installedChunkData[2] = promise);\n\n \t\t\t\t// start chunk loading\n \t\t\t\tvar script = document.createElement('script');\n \t\t\t\tvar onScriptComplete;\n\n \t\t\t\tscript.charset = 'utf-8';\n \t\t\t\tscript.timeout = 120;\n \t\t\t\tif (__webpack_require__.nc) {\n \t\t\t\t\tscript.setAttribute(\"nonce\", __webpack_require__.nc);\n \t\t\t\t}\n \t\t\t\tscript.src = jsonpScriptSrc(chunkId);\n\n \t\t\t\t// create error before stack unwound to get useful stacktrace later\n \t\t\t\tvar error = new Error();\n \t\t\t\tonScriptComplete = function (event) {\n \t\t\t\t\t// avoid mem leaks in IE.\n \t\t\t\t\tscript.onerror = script.onload = null;\n \t\t\t\t\tclearTimeout(timeout);\n \t\t\t\t\tvar chunk = installedChunks[chunkId];\n \t\t\t\t\tif(chunk !== 0) {\n \t\t\t\t\t\tif(chunk) {\n \t\t\t\t\t\t\tvar errorType = event && (event.type === 'load' ? 'missing' : event.type);\n \t\t\t\t\t\t\tvar realSrc = event && event.target && event.target.src;\n \t\t\t\t\t\t\terror.message = 'Loading chunk ' + chunkId + ' failed.\\n(' + errorType + ': ' + realSrc + ')';\n \t\t\t\t\t\t\terror.name = 'ChunkLoadError';\n \t\t\t\t\t\t\terror.type = errorType;\n \t\t\t\t\t\t\terror.request = realSrc;\n \t\t\t\t\t\t\tchunk[1](error);\n \t\t\t\t\t\t}\n \t\t\t\t\t\tinstalledChunks[chunkId] = undefined;\n \t\t\t\t\t}\n \t\t\t\t};\n \t\t\t\tvar timeout = setTimeout(function(){\n \t\t\t\t\tonScriptComplete({ type: 'timeout', target: script });\n \t\t\t\t}, 120000);\n \t\t\t\tscript.onerror = script.onload = onScriptComplete;\n \t\t\t\tdocument.head.appendChild(script);\n \t\t\t}\n \t\t}\n \t\treturn Promise.all(promises);\n \t};\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"/\";\n\n \t// on error function for async loading\n \t__webpack_require__.oe = function(err) { console.error(err); throw err; };\n\n \tvar jsonpArray = window[\"webpackJsonp\"] = window[\"webpackJsonp\"] || [];\n \tvar oldJsonpFunction = jsonpArray.push.bind(jsonpArray);\n \tjsonpArray.push = webpackJsonpCallback;\n \tjsonpArray = jsonpArray.slice();\n \tfor(var i = 0; i < jsonpArray.length; i++) webpackJsonpCallback(jsonpArray[i]);\n \tvar parentJsonpFunction = oldJsonpFunction;\n\n\n \t// add entry module to deferred list\n \tdeferredModules.push([0,\"chunk-vendors\"]);\n \t// run deferred modules when ready\n \treturn checkDeferredModules();\n","import axios from \"axios\"\r\nimport store from \"@/store/index.js\"\r\n\r\nconst instance = axios.create({\r\n  baseURL: 'http://127.0.0.1:8001/api/',\r\n});\r\ninstance.defaults.headers.post['Content-Type'] = 'application/json'\r\n\r\ninstance.interceptors.request.use(async (config) => {\r\n  // console.log('request config', config)\r\n  if(config.skipAuth) return config;\r\n\r\n  const accessToken = await requestValidAccessToken()\r\n\r\n  return{\r\n    ...config,\r\n    headers: {\r\n      common: {\r\n        ['Authorization']: `Bearer ${accessToken}`\r\n      }\r\n    }\r\n  }\r\n}, function (error) {\r\n  console.log(error)\r\n  return Promise.reject(error);\r\n});\r\n\r\ninstance.interceptors.response.use(\r\n  async (response) => {\r\n    // console.log('response', response)\r\n    const {status} = response;\r\n    if (status === 401) {\r\n        this.$store.dispatch('logout')\r\n      }\r\n    return response\r\n  }\r\n);\r\n\r\nasync function requestValidAccessToken() {\r\n  const now = Math.floor(Date.now() * 0.001)\r\n\r\n  if(!store.getters.isRefreshTokenValid(now)) {\r\n    store.dispatch('logout')\r\n  }\r\n  else if (!store.getters.isAccessTokenValid(now)) {\r\n    const refreshToken = {\r\n      refresh: store.state.auth.refreshToken\r\n    }\r\n    await store.dispatch('authRefresh', refreshToken)\r\n  }\r\n\r\n  return store.state.auth.accessToken\r\n}\r\n\r\nexport {instance}","import store from \"@/store/\"\r\nimport { instance } from './instance.js';\r\n\r\nexport default {\r\n  signin: async function (data) {\r\n    const resp = await instance.post('auth/token/obtain/', \r\n      data, \r\n      {skipAuth: true})\r\n    // console.log('sign in resp', resp)\r\n    return resp\r\n  },\r\n  \r\n  signup: async function (data) {\r\n      const resp = await instance.post('auth/register/', \r\n        data, \r\n        {skipAuth: true} \r\n      )\r\n      return resp\r\n  },\r\n  \r\n  refreshToken: async function (data) {\r\n    try {\r\n      // console.log('refreshToken in instance', data)\r\n      const resp = await instance.post('auth/token/refresh/', \r\n        data,\r\n        {skipAuth: true} \r\n      )\r\n      return resp\r\n    } catch (e) {\r\n      console.log('api/refreshToken error', e)\r\n    }\r\n  },\r\n  \r\n  getUser: () => {\r\n    try {\r\n      return instance.get('users/me/',  \r\n      )\r\n    } catch (e) {\r\n      console.log('api/getUser error catch', e)\r\n      store.dispatch('logout')\r\n    }\r\n  },\r\n\r\n  addCategory: async function (data) {\r\n    const resp = await instance.post('pockets/categories/', \r\n      data,)      \r\n    return resp\r\n  },\r\n\r\n  getCategories: async function ({start_date = '1900-01-01', end_date = '2100-01-01'}) {\r\n    const params = {start_date, end_date}\r\n    return instance.get('pockets/categories/transactions-by-categories', {params})\r\n  },\r\n  \r\n  getTransactions: async function ({limit = 1000, offset = 0, start_date = '1900-01-01', end_date = '2100-01-01'}) {\r\n    const params = {limit, offset, start_date, end_date}\r\n    return instance.get('pockets/transactions/',\r\n      {params})\r\n  },\r\n\r\n  getWidgets: async function () {\r\n    return instance.get('pockets/widgets')\r\n  },\r\n\r\n  addWidget: async function (data) {\r\n    const resp = await instance.post('pockets/widgets/', \r\n      data,)      \r\n    return resp\r\n  },\r\n  \r\n  deleteWidget: async function (data) {\r\n    const resp = await instance.delete(`pockets/widgets/${data}/`)      \r\n    return resp\r\n  },\r\n\r\n  addTransaction: async function (data) {\r\n    const resp = await instance.post('pockets/transactions/', \r\n      data,)      \r\n    return resp\r\n  },\r\n\r\n  deleteTransaction: async function (data) {\r\n    const resp = await instance.delete(`pockets/transactions/${data}`)      \r\n    return resp\r\n  },\r\n\r\n  editTransaction: async function ({transactionId, ...data}) {\r\n    const resp = await instance.patch(`pockets/transactions/${transactionId}/`,\r\n    data)      \r\n    return resp\r\n  },\r\n\r\n  deleteCategory: async function (data) {\r\n    const resp = await instance.delete(`pockets/categories/${data}`)      \r\n    return resp\r\n  },\r\n\r\n  editCategory: async function ({categoryId, ...data}) {\r\n    const resp = await instance.patch(`pockets/categories/${categoryId}/`,\r\n    data)      \r\n    return resp\r\n  },\r\n}","import api from \"@/api/index.js\"\r\n// import jwtDecode from \"jwt-decode\"\r\n// import axios from \"axios\"\r\n\r\n\r\n\r\nexport default {\r\n  state: {\r\n    username: localStorage.getItem('user'),\r\n    email: \"\",\r\n    password: '',\r\n    error: null,\r\n    accessToken: '',\r\n    refreshToken: '',\r\n    accessTokenExpires: null,\r\n    refreshTokenExpires: null,\r\n  },\r\n  mutations: {\r\n    GET_ERROR: (state, e) => {\r\n      state.error = e\r\n      alert(e.message)\r\n    },\r\n    AUTH_SUCSESS: (state, data) => {\r\n      alert('Вы вошли в систему')\r\n      state.email = data.email\r\n      state.password = data.password\r\n    },\r\n    CLEAR_USER_DATA: () => {\r\n      console.log('wait reload')\r\n      location.reload()  \r\n    },\r\n  },\r\n  actions: {\r\n    AUTH_REQUEST: async ({commit}, data) => {\r\n      try{\r\n        // const resp = await api.signin(data)\r\n        if (\r\n          data.email === localStorage.getItem('email')\r\n          && data.password === localStorage.getItem('password')\r\n          ) {\r\n            commit('AUTH_SUCSESS', data)\r\n          }\r\n        else throw new Error('неправильный пароль или почта')\r\n      } catch (e) {\r\n        commit('GET_ERROR', e)\r\n      }\r\n    },\r\n\r\n    AUTH_REG: async ({commit}, data) => {\r\n      try {\r\n        // await api.signup(data)\r\n        localStorage.setItem('user', data.username)\r\n        localStorage.setItem('password', data.password)\r\n        localStorage.setItem('email', data.email)\r\n      } catch (e) {\r\n        commit('GET_ERROR', e)\r\n        throw e\r\n      }\r\n    },\r\n\r\n    logout: ({commit}) => {\r\n      commit('CLEAR_USER_DATA')\r\n    },\r\n\r\n    authRefresh: async ({commit,dispatch}, data) => {\r\n      try{\r\n        const resp = await api.refreshToken(data)\r\n        commit('AUTH_SUCSESS', resp)\r\n      } catch (e) {\r\n        console.log('Ошибка при обновлении токена', e)\r\n        dispatch('logout')\r\n      }\r\n      // return resp.data.access // спорно, возможно и не надо, токены обновляются чз комит\r\n    }\r\n\r\n  },\r\n  getters : {\r\n    isLoggedIn: state => state.email === localStorage.getItem('email') && state.password === localStorage.getItem('password'),\r\n    token: state => state.accessToken,\r\n    isAccessTokenValid: (state) => (now) => now < state.accessTokenExpires,\r\n    isRefreshTokenValid: (state) => (now) => now < state.refreshTokenExpires\r\n  }\r\n}","import api from \"@/api/index.js\"\r\nimport store from \"@/store/index.js\";\r\n\r\nexport default {\r\n  state: {\r\n    categories: [],\r\n  },\r\n  \r\n  mutations: {\r\n    GET_CATEGORIES: (state, resp) => {\r\n      state.categories = resp\r\n      // console.log('категории, полученыые от сервера через cocтояние', state.categories)\r\n    },\r\n    ADD_CATEGORY: (state, data) => {\r\n      state.categories.splice(0, 0, data)\r\n      console.log('Была добавлена категория', data)\r\n    },\r\n    UPDATE_CATEGORIES: (state) => {\r\n      // state.categories = data\r\n      console.log('список категорий после обновление через сторе', state.categories)\r\n    }\r\n  },\r\n  actions: {\r\n    addCategory: async ({commit, state}, data) => {\r\n      try{\r\n        // const resp = await api.addCategory(data)\r\n        commit('ADD_CATEGORY', data)\r\n        // dispatch('getCategories', {})\r\n        console.log('новый список категорий в сторе', state.categories)\r\n      } catch (e) {\r\n        console.log('Ошибка добавления категории', e)\r\n        throw e\r\n      }\r\n    },\r\n    deleteCategory: async ({state}, data) => {\r\n      try{\r\n        // await api.deleteCategory(data)\r\n        console.log('Была удалена категория', data)\r\n        const index = state.categories.findIndex(item => item.id === data)\r\n        state.categories.splice(index, 1)\r\n        // dispatch('getCategories', {})\r\n        console.log('новый список категорий в сторе', state.categories)\r\n      } catch (e) {\r\n        console.log('Ошибка удаления категории', e)\r\n        throw e\r\n      }\r\n    },\r\n    editCategory: async ({state}, data) => {\r\n      try{\r\n        // await api.editCategory(data)\r\n        const index = state.categories.findIndex(item => item.id === data.categoryId)\r\n        state.categories.splice(index, 1, data)\r\n        console.log('Была отредактирована категория', data)\r\n        // dispatch('getCategories', {})\r\n        console.log('новый список категорий в сторе', state.categories)\r\n      } catch (e) {\r\n        console.log('Ошибка редактирования категории', e)\r\n        throw e\r\n      }\r\n    },\r\n    updateCategories: ({ state}) => {\r\n      const categoriesListId = state.categories.map(item => item.id)\r\n      for (let categoryId of categoriesListId) {\r\n        const f = store.state.transactions.transactions.filter(item => item.category.id === categoryId)\r\n        const categoryTotal = f.map(item => +item.amount).reduce((sum, current) => sum + current,0)\r\n        store.state.categories.categories.find(item => item.id === categoryId).total = categoryTotal\r\n      }\r\n      console.log('был обновлен список категорий') // работает, скорее всего можно написать лучше\r\n    },\r\n    getCategories: async ({commit}, data) => {\r\n      try {\r\n        const categories = await api.getCategories(data).then(r => r.data)\r\n        commit('GET_CATEGORIES', categories)\r\n      }\r\n      catch (e) {\r\n        console.log('Ошибка в store/categories/getCategories', e)\r\n      }\r\n    },\r\n  },\r\n  getters : {\r\n  }\r\n}","import api from \"@/api/index.js\"\r\n\r\nexport default {\r\n  state: {\r\n    transactions: [],\r\n    datePickerTransactions: []\r\n  },\r\n  \r\n  mutations: {\r\n    GET_TRANSACTIONS: (state, resp) => {\r\n      state.transactions = resp.results\r\n      // console.log('транзакции, полученыые от сервера через cocтояние', state.transactions)\r\n    },\r\n    ADD_TRANSACTION: (state, data) => {\r\n      state.transactions.splice(0, 0, data)\r\n    }\r\n  },\r\n  actions: {\r\n    addTransaction: async ({commit, dispatch}, data) => {\r\n      try{\r\n        // const resp = await api.addTransaction(data)\r\n        console.log('Была добавлена транзакция', data)\r\n        commit('ADD_TRANSACTION', data)\r\n        dispatch('updateCategories') // допиши \r\n        // dispatch('getInitialData') // хорошо бы избавиться от этого решения, так как генерируется лишний запрос\r\n        // console.log('новый список транзакций в сторе', state.transactions)\r\n      } catch (e) {\r\n        console.log('Ошибка добавления транзакции', e)\r\n        throw e\r\n      }\r\n    },\r\n    deleteTransaction: async ({state, dispatch}, data) => {\r\n      try{\r\n        // await api.deleteTransaction(data)\r\n        const index = state.transactions.findIndex(item => item.id === data)\r\n        state.transactions.splice(index, 1)\r\n        console.log('Была удалена транзакция', data)\r\n\r\n        dispatch('updateCategories')\r\n        // dispatch('getInitialData') // хорошо бы избавиться от этого решения, так как генерируется лишний запрос\r\n        console.log('новый список транзакций в сторе', state.transactions)\r\n      } catch (e) {\r\n        console.log('Ошибка удаления транзакции', e)\r\n        throw e\r\n      }\r\n    },\r\n    editTransaction: async ({state, dispatch}, data) => {\r\n      try{\r\n        // await api.editTransaction(data)\r\n        console.log('Была отредактирована транзакция', data)\r\n        const index = state.transactions.findIndex(item => item.id === data.id)\r\n        state.transactions.splice(index, 1, data)\r\n        dispatch('updateCategories')\r\n        // dispatch('getInitialData') // хорошо бы избавиться от этого решения, так как генерируется лишний запрос\r\n        console.log('новый список транзакций в сторе', state.transactions)\r\n      } catch (e) {\r\n        console.log('Ошибка редактирования транзакции', e)\r\n        throw e\r\n      }\r\n    },\r\n    getTransactions: async ( {commit}, data ) => {\r\n      try {\r\n        const transactions = await api.getTransactions(data).then(r => r.data)\r\n        commit('GET_TRANSACTIONS', transactions)\r\n      }\r\n      catch (e) {\r\n        console.log('Ошибка в store/getInitialData', e)\r\n      }\r\n    },\r\n    updateTransactionsByDatePicker: ({dispatch, state}, data) => {\r\n      state.transactions.splice(0, state.transactions.length, data)\r\n      dispatch('updateCategories')\r\n    }\r\n  },\r\n  getters : {\r\n  }\r\n}","import api from \"@/api/index.js\"\r\n\r\nexport default {\r\n  state: {\r\n    widgets: [],\r\n    showModalAddWidget: false\r\n  },\r\n  \r\n  mutations: {\r\n    GET_WIDGETS: (state, resp) => {\r\n      state.widgets = resp\r\n      // console.log('виджеты, полученыые от сервера через cocтояние', state.widgets)\r\n    },\r\n    ADD_WIDGET: (state, data) => {\r\n      state.widgets.splice(0, 0, data)\r\n    },\r\n    SHOW_ADD_WIDGET_MODAL: (state) => {\r\n      state.showModalAddWidget = true\r\n      // console.log('сработал мутатор для showModal')\r\n    }\r\n  },\r\n  actions: {\r\n    getWidgets: async ({commit}) => {\r\n      try {\r\n        const widgets = await api.getWidgets().then(r => r.data)\r\n        commit('GET_WIDGETS', widgets)\r\n      } catch (e) {\r\n        console.log('Ошибка в store/widgets/getWidgets', e)\r\n      }\r\n    },\r\n    addWidget: async ({commit, state, dispatch}, data) => {\r\n      try{\r\n        const resp = await api.addWidget(data)\r\n        console.log('Был добавлен виджет', resp)\r\n        commit('ADD_WIDGET', resp.data)  \r\n        dispatch('getWidgets')\r\n        console.log('новый список виджетов в сторе', state.widgets)\r\n      } catch (e) {\r\n        console.log('Ошибка добавления виджета', e)\r\n        throw e\r\n      }\r\n    },\r\n    deleteWidget: async ({state, dispatch}, data) => {\r\n      try{\r\n        await api.deleteWidget(data)\r\n        console.log('Был удален виджет с id: ', data)\r\n        dispatch('getWidgets')\r\n        console.log('новый список виджетов в сторе', state.widgets)\r\n      } catch (e) {\r\n        console.log('Ошибка удаления виджета', e)\r\n        throw e\r\n      }\r\n    },\r\n  },\r\n  getters : {\r\n  }\r\n}","import Vue from 'vue'\r\nimport Vuex from 'vuex'\r\nimport auth from \"./modules/auth\"\r\nimport categories from \"./modules/categories\"\r\nimport transactions from \"./modules/transactions\"\r\nimport widgets from \"./modules/widgets\"\r\n// import api from \"@/api/index.js\"\r\n\r\nVue.use(Vuex)\r\n\r\nconst store = new Vuex.Store({\r\n  state: {\r\n    error: {}\r\n  },\r\n  mutations: {\r\n    GET_USERNAME: (state, username) => {\r\n      state.auth.username = username\r\n    }\r\n  },\r\n  getters: {\r\n  },\r\n  modules: {\r\n    auth, categories, transactions, widgets\r\n  },\r\n  actions: {\r\n    getInitialData: async (  ) => {\r\n      try {\r\n        // const username = await api.getUser().then(r => r.data.username)\r\n        // commit('GET_USERNAME', username)\r\n        // const categories = await api.getCategories({}).then(r => r.data)\r\n        // commit('GET_CATEGORIES', categories)\r\n        // const transactions = await api.getTransactions({}).then(r => r.data)\r\n        // commit('GET_TRANSACTIONS', transactions)\r\n        // const widgets = await api.getWidgets().then(r => r.data)\r\n        // commit('GET_WIDGETS', widgets)\r\n      }\r\n      catch (e) {\r\n        console.log('Ошибка в store/getInitialData', e)\r\n      }\r\n    }\r\n  }\r\n})\r\n\r\nexport default store\r\n\r\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"app\"}},[_c('router-view')],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div id=\"app\">\r\n    <router-view/>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nexport default {\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n\r\n</style>\r\n","import mod from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../node_modules/cache-loader/dist/cjs.js??ref--1-1!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/cache-loader/dist/cjs.js??ref--13-0!../node_modules/thread-loader/dist/cjs.js!../node_modules/babel-loader/lib/index.js!../node_modules/vue-cli-plugin-quasar/lib/loader.transform-quasar-imports.js!../node_modules/vue-cli-plugin-quasar/lib/loader.auto-import.js?kebab!../node_modules/cache-loader/dist/cjs.js??ref--1-1!../node_modules/vue-loader/lib/index.js??vue-loader-options!./App.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./App.vue?vue&type=template&id=7b7c5849&scoped=true&\"\nimport script from \"./App.vue?vue&type=script&lang=js&\"\nexport * from \"./App.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"7b7c5849\",\n  null\n  \n)\n\nexport default component.exports","import Vue from 'vue'\r\nimport VueRouter from 'vue-router'\r\nimport store from \"@/store/index.js\";\r\n\r\nVue.use(VueRouter)\r\n\r\nconst routes = [\r\n  {\r\n    path: '/',\r\n    name: 'Main',\r\n    component: () => import(/* webpackChunkName: \"about\" */ '../views/Main.vue'),\r\n    meta: {\r\n      requiresAuth: true\r\n    },\r\n  },\r\n  {\r\n    name: \"Signin\",\r\n    path: '/auth/signin',\r\n    component: () => import (\"@/views/SignIn\")\r\n  },\r\n  {\r\n    name: \"Signup\",\r\n    path: '/auth/signup',\r\n    component: () => import (\"@/views/SignUp\")\r\n  }\r\n]\r\n\r\nconst router = new VueRouter({\r\n  mode: 'history',\r\n  base: process.env.BASE_URL,\r\n  routes\r\n})\r\n\r\nrouter.beforeEach ((to, from, next) => {\r\n  if(to.matched.some(record => record.meta.requiresAuth) && !store.getters.isLoggedIn) {\r\n    next('/auth/signin') \r\n  } else {\r\n    next() \r\n  }\r\n})\r\n\r\nexport default router\r\n","import Vue from 'vue'\r\n\r\nimport './styles/quasar.sass'\r\nimport '@quasar/extras/material-icons/material-icons.css'\r\nimport Quasar from 'quasar/src/vue-plugin.js';\r\n\r\nVue.use(Quasar, {\r\n  config: {},\r\n  plugins: {\r\n  }\r\n })","import '@/styles/app.scss'\r\nimport Vue from 'vue'\r\nimport Vuelidate from 'vuelidate'\r\nimport App from './App.vue'\r\nimport router from './router'\r\nimport store from './store'\r\nimport './quasar'\r\n\r\nVue.use(Vuelidate)\r\n\r\nVue.config.productionTip = false\r\n\r\nnew Vue({\r\n  router,\r\n  store,\r\n  render: h => h(App)\r\n}).$mount('#app')\r\n"],"sourceRoot":""}